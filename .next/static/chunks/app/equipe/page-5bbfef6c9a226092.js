(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6280],{70343:(e,s,a)=>{Promise.resolve().then(a.bind(a,20949))},92823:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(67401).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},20949:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>w});var t=a(95155),r=a(12115),l=a(5565),i=a(33473),c=a(92823),o=a(42649),n=a(17146),d=a(55037);function u(){return(0,t.jsxs)("div",{className:"relative h-screen w-full",children:[(0,t.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,t.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute w-full h-full object-cover",children:(0,t.jsx)("source",{src:"/Video.mp4",type:"video/mp4"})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50"})]}),(0,t.jsxs)("div",{className:"relative h-full flex flex-col items-center justify-center text-center px-4 pt-24",children:[(0,t.jsx)("div",{className:"w-48 md:w-64 mb-8",children:(0,t.jsx)("img",{src:"/logos/TikiLogo.png",alt:"Tiki Logo",className:"w-full h-auto"})}),(0,t.jsx)("h1",{className:"font-didot text-5xl sm:text-3xl md:text-4xl lg:text-6xl font-bold mb-2 md:mb-4",children:"Notre \xe9quipe"}),(0,t.jsx)("p",{className:"text-xl text-gray-200 mb-8 max-w-2xl",children:"Une passion commune : vous faire voyager \xe0 travers nos saveurs"}),(0,t.jsx)("div",{className:"w-24 h-1 bg-[#C4B5A2]"})]})]})}var m=a(40767),x=a(98867);function p(e){let{isEditing:s,currentMember:a,onClose:l,onSubmit:i,token:c}=e,[o,n]=(0,r.useState)(a),[u,p]=(0,r.useState)({type:"",text:""}),[h,b]=(0,r.useState)(!1),g=(0,r.useRef)(null),j=async e=>{if(!e)return null;b(!0);try{let s=new FormData;s.append("file",e);let a=await fetch("".concat("https://api.votredomaine.com","/uploads/image"),{method:"POST",headers:{Authorization:"Bearer ".concat(c)},body:s});if(!a.ok)throw Error("Erreur lors de l'upload de l'image");let t=await a.json();return b(!1),t.imagePath}catch(e){return console.error("Failed to upload image:",e),d.oR.error("Erreur lors de l'upload de l'image"),b(!1),null}},v=async()=>{try{if(p({type:"",text:""}),!o.firstName||!o.lastName||!o.role){p({type:"error",text:"Veuillez remplir tous les champs obligatoires"});return}let e={...o,description:o.description||"Membre de l'\xe9quipe Tiki",speciality:o.speciality||"Non sp\xe9cifi\xe9",experience:o.experience||"Non sp\xe9cifi\xe9",schedule:o.schedule||"Non sp\xe9cifi\xe9"};await i(e),p({type:"success",text:"Membre ".concat(s?"mis \xe0 jour":"ajout\xe9"," avec succ\xe8s")}),setTimeout(()=>{l()},1500)}catch(e){console.error("Erreur lors de la soumission:",e),p({type:"error",text:"Erreur lors de ".concat(s?"la mise \xe0 jour":"l'ajout"," du membre")})}};return(0,t.jsxs)("div",{className:"bg-[#2a2a2a]/90 backdrop-blur-md rounded-xl p-8 border-2 border-[#C4B5A2] mb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-[#C4B5A2]",children:s?"Modifier un membre":"Ajouter un membre"}),(0,t.jsx)("button",{onClick:l,className:"text-white hover:text-[#C4B5A2]",children:(0,t.jsx)(m.A,{size:24})})]}),u.text&&(0,t.jsx)("div",{className:"p-4 mb-4 rounded ".concat("error"===u.type?"bg-red-900/30 text-red-300 border border-red-800":"bg-green-900/30 text-green-300 border border-green-800"),children:u.text}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"Pr\xe9nom*"}),(0,t.jsx)("input",{className:"w-full p-2 bg-[#1a1a1a] rounded text-white border border-[#C4B5A2]/30",value:o.firstName,onChange:e=>n({...o,firstName:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"Nom*"}),(0,t.jsx)("input",{className:"w-full p-2 bg-[#1a1a1a] rounded text-white border border-[#C4B5A2]/30",value:o.lastName,onChange:e=>n({...o,lastName:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"R\xf4le*"}),(0,t.jsx)("input",{className:"w-full p-2 bg-[#1a1a1a] rounded text-white border border-[#C4B5A2]/30",value:o.role,onChange:e=>n({...o,role:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"Service*"}),(0,t.jsxs)("select",{className:"w-full p-2 bg-[#1a1a1a] rounded text-white border border-[#C4B5A2]/30",value:o.service,onChange:e=>n({...o,service:e.target.value}),children:[(0,t.jsx)("option",{value:"salle",children:"Salle"}),(0,t.jsx)("option",{value:"cuisine",children:"Cuisine"})]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"URL de l'image"}),(0,t.jsxs)("div",{className:"mt-2 relative border-2 border-dashed border-gray-600 rounded p-4",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",ref:g,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:async e=>{if(e.target.files&&e.target.files[0]){let s=e.target.files[0],a=await j(s);a&&(n({...o,imagePath:a}),d.oR.success("Image t\xe9l\xe9charg\xe9e avec succ\xe8s"))}}}),(0,t.jsx)("div",{className:"text-center text-gray-400",children:h?(0,t.jsx)("p",{children:"Upload en cours..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"D\xe9posez votre image ici ou cliquez pour s\xe9lectionner"}),o.imagePath&&(0,t.jsxs)("p",{className:"text-green-500 mt-2",children:["Image s\xe9lectionn\xe9e: ",o.imagePath.split("/").pop()]})]})})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsxs)("button",{onClick:v,className:"bg-[#C4B5A2] hover:bg-[#A69783] text-black px-4 py-2 rounded-md flex items-center gap-2",children:[(0,t.jsx)(x.A,{size:18}),s?"Mettre \xe0 jour":"Ajouter"]}),(0,t.jsxs)("button",{onClick:l,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-md flex items-center gap-2",children:[(0,t.jsx)(m.A,{size:18}),"Annuler"]})]})]})}var h=a(60872),b=a(45686),g=a(67401);let j=(0,g.A)("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]),v=(0,g.A)("GlassWater",[["path",{d:"M5.116 4.104A1 1 0 0 1 6.11 3h11.78a1 1 0 0 1 .994 1.105L17.19 20.21A2 2 0 0 1 15.2 22H8.8a2 2 0 0 1-2-1.79z",key:"p55z4y"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0",key:"mjntcy"}]]),f="https://api.votredomaine.com",N=e=>e?e.startsWith("http")?e:e.startsWith("/uploads/")?"".concat(f).concat(e):"".concat(f,"/uploads").concat(e):"/images/default-person.jpg";function y(e){let{member:s,isAdmin:a,onEdit:r,onDelete:i}=e;return(0,t.jsxs)("div",{className:"relative aspect-square rounded-xl shadow-xl overflow-hidden group",children:[(0,t.jsx)(l.default,{src:N(s.imagePath),alt:"".concat(s.firstName," ").concat(s.lastName),fill:!0,className:"object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"}),a&&(0,t.jsxs)("div",{className:"absolute top-4 right-4 z-20 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>r(s),className:"bg-blue-600/80 p-2 rounded-full hover:bg-blue-700 transition-colors backdrop-blur-md",children:(0,t.jsx)(h.A,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>i(s.id),className:"bg-red-600/80 p-2 rounded-full hover:bg-red-700 transition-colors backdrop-blur-md",children:(0,t.jsx)(b.A,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-10",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold",children:[s.firstName," ",s.lastName]}),"cuisine"===s.service?(0,t.jsx)(j,{className:"w-5 h-5 text-[#C4B5A2]"}):(0,t.jsx)(v,{className:"w-5 h-5 text-[#C4B5A2]"})]}),(0,t.jsx)("p",{className:"text-[#C4B5A2] text-sm mb-2",children:s.role}),(0,t.jsx)("p",{className:"text-gray-300 text-sm line-clamp-3 opacity-0 group-hover:opacity-100 transition-opacity",children:s.description})]})]})}function w(){let{user:e,token:s}=(0,n.h)(),[a,m]=(0,r.useState)("all"),[x,h]=(0,r.useState)([]),[b,g]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[f,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[C,A]=(0,r.useState)({firstName:"",lastName:"",role:"",service:"salle",imagePath:""}),q=async()=>{try{let e;g(!0),e="all"===a?await o.nz.getAll():await o.nz.getByService(a),h(e),v(null)}catch(e){console.error("Erreur lors du chargement du personnel:",e),v("Une erreur est survenue lors du chargement des membres de l'\xe9quipe"),h([{id:1,firstName:"Greg",lastName:"Maire",role:"Vieux Loup",service:"salle",description:"Fort de 20 ans d'exp\xe9rience dans la cuisine polyn\xe9sienne, Michel dirige notre cuisine avec passion et cr\xe9ativit\xe9. Form\xe9 aux \xeeles Marquises, il apporte l'authenticit\xe9 des saveurs du Pacifique \xe0 chaque plat.",speciality:"Poissons crus et marinades traditionnelles",experience:"20 ans d'exp\xe9rience",schedule:"Chef du service du soir",imagePath:"/equipe/greg.jpg"},{id:2,firstName:"Alexis",lastName:"Berthier",role:"Gros Grizzly",service:"salle",description:"Sp\xe9cialiste des desserts fusion m\xealant techniques fran\xe7aises et ingr\xe9dients polyn\xe9siens, Marie cr\xe9e des desserts uniques qui racontent une histoire \xe0 chaque bouch\xe9e.",speciality:"Desserts fusion polyn\xe9siens",experience:"15 ans d'exp\xe9rience",schedule:"Service continu",imagePath:"/equipe/alex.png"},{id:3,firstName:"Quentin",lastName:"Cialone",role:"Cochon du seigneur",service:"salle",description:"Expert en fruits de mer et sp\xe9cialit\xe9s locales, Paul apporte sa touche unique aux plats traditionnels tahitiens. Sa cr\xe9ativit\xe9 donne une nouvelle dimension \xe0 nos recettes ancestrales.",speciality:"Fruits de mer et poissons",experience:"12 ans d'exp\xe9rience",schedule:"Chef du service du midi",imagePath:"/equipe/quentin.jpeg"}])}finally{g(!1)}};(0,r.useEffect)(()=>{q()},[a]);let z=async e=>{try{await o.nz.create(e),d.oR.success("Membre ajout\xe9 avec succ\xe8s"),q()}catch(e){console.error("Erreur lors de l'ajout:",e),d.oR.error("Erreur lors de l'ajout du membre")}},B=e=>{A(e),N(!0)},E=async e=>{try{if(!e.id)return;await o.nz.update(e.id,e),d.oR.success("Membre mis \xe0 jour avec succ\xe8s"),q()}catch(e){console.error("Erreur lors de la mise \xe0 jour:",e),d.oR.error("Erreur lors de la mise \xe0 jour du membre")}},S=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer ce membre ?"))try{await o.nz.delete(e),d.oR.success("Membre supprim\xe9 avec succ\xe8s"),q()}catch(e){console.error("Erreur lors de la suppression:",e),d.oR.error("Erreur lors de la suppression du membre")}};return b?(0,t.jsx)("div",{className:"flex flex-col min-h-screen bg-[#141414] text-white items-center justify-center",children:(0,t.jsxs)("div",{className:"p-8 bg-[#2a2a2a]/80 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Chargement..."}),(0,t.jsx)("p",{children:"Nous r\xe9cup\xe9rons les informations de notre \xe9quipe"})]})}):(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-[#141414] text-white",children:[(0,t.jsx)(u,{}),(0,t.jsx)("main",{className:"relative mt-20 flex-grow bg-[#141414]",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"absolute inset-0 flex",children:[(0,t.jsxs)("div",{className:"w-[400px] relative",children:[(0,t.jsx)(l.default,{src:"/decorations/leavesleft.webp",alt:"D\xe9coration gauche",fill:!0,className:"object-cover opacity-20",priority:!0}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 w-32 bg-gradient-to-r from-transparent to-[#141414]"})]}),(0,t.jsx)("div",{className:"flex-grow bg-[#141414]",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-8"})}),(0,t.jsxs)("div",{className:"w-[400px] relative",children:[(0,t.jsx)(l.default,{src:"/decorations/leavesright.webp",alt:"D\xe9coration droite",fill:!0,className:"object-cover opacity-20",priority:!0}),(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 w-32 bg-gradient-to-l from-transparent to-[#141414]"})]})]}),(0,t.jsxs)("div",{className:"relative max-w-6xl mx-auto px-8 py-16",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-[#C4B5A2] mb-4",children:"Une \xe9quipe passionn\xe9e"}),(0,t.jsx)("p",{className:"text-gray-400 max-w-3xl mx-auto mb-8",children:"Chaque membre de notre \xe9quipe apporte sa touche unique pour cr\xe9er une exp\xe9rience gustative inoubliable."}),j&&(0,t.jsx)("div",{className:"bg-red-900/30 border border-red-700 text-red-200 p-4 rounded-lg mb-8",children:(0,t.jsx)("p",{children:j})})]}),(null==e?void 0:e.role)==="admin"&&!w&&!f&&(0,t.jsx)("div",{className:"mb-8 flex justify-center",children:(0,t.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center gap-2 bg-[#C4B5A2] text-black px-4 py-2 rounded-md hover:bg-[#a39482]",children:[(0,t.jsx)(i.A,{size:20}),"Ajouter un membre"]})}),(w||f)&&(0,t.jsx)(p,{isEditing:f,currentMember:C,onClose:()=>f?N(!1):k(!1),onSubmit:f?E:z,token:s}),(0,t.jsx)("div",{className:"flex justify-center mb-12",children:(0,t.jsxs)("div",{className:"inline-flex gap-4 p-1 bg-[#2a2a2a] rounded-lg",children:[(0,t.jsxs)("button",{onClick:()=>m("all"),className:"flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ".concat("all"===a?"bg-[#C4B5A2] text-black":"text-white hover:bg-[#3a3a3a]"),children:[(0,t.jsx)(c.A,{className:"w-5 h-5"}),"Toute l'\xe9quipe"]}),(0,t.jsxs)("button",{onClick:()=>m("cuisine"),className:"flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ".concat("cuisine"===a?"bg-[#C4B5A2] text-black":"text-white hover:bg-[#3a3a3a]"),children:[(0,t.jsx)(c.A,{className:"w-5 h-5"}),"Cuisine"]}),(0,t.jsxs)("button",{onClick:()=>m("salle"),className:"flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ".concat("salle"===a?"bg-[#C4B5A2] text-black":"text-white hover:bg-[#3a3a3a]"),children:[(0,t.jsx)(c.A,{className:"w-5 h-5"}),"Salle"]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:0===x.length?(0,t.jsx)("div",{className:"text-center p-8 bg-[#2a2a2a]/50 rounded-lg col-span-full",children:(0,t.jsx)("p",{className:"text-gray-400",children:"Aucun membre trouv\xe9 pour cette cat\xe9gorie"})}):x.map(s=>(0,t.jsx)(y,{member:s,isAdmin:(null==e?void 0:e.role)==="admin",onEdit:B,onDelete:S},s.id))})]})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[5565,4069,2652,8441,1517,7358],()=>s(70343)),_N_E=e.O()}]);